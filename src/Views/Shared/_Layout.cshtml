@* <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - WebHM</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/WebHM.styles.css" asp-append-version="true" />
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">WebHM</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                        </li>
                    </ul>
                    <partial name="_LoginPartial" />
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2024 - WebHM - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
 *@
 @using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Responsive Bootstrap4 Shop Template, Created by Imran Hossain from https://imransdesign.com/">

    <!-- title -->
    <title>HandMade Store - Thế giới đồ Handmade</title>

    <!-- favicon -->
    <link rel="shortcut icon" type="image/png" href="~/MainUI/assets/img/favicon.png">
    <!-- google font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
    <!-- fontawesome -->
    <link rel="stylesheet" href="~/MainUI/assets/css/all.min.css">
    <!-- bootstrap -->
    <link rel="stylesheet" href="~/MainUI/assets/bootstrap/css/bootstrap.min.css">
    <!-- owl carousel -->
    <link rel="stylesheet" href="~/MainUI/assets/css/owl.carousel.css">
    <!-- magnific popup -->
    <link rel="stylesheet" href="~/MainUI/assets/css/magnific-popup.css">
    <!-- animate css -->
    <link rel="stylesheet" href="~/MainUI/assets/css/animate.css">
    <!-- mean menu css -->
    <link rel="stylesheet" href="~/MainUI/assets/css/meanmenu.min.css">
    <!-- main style -->
    <link rel="stylesheet" href="~/MainUI/assets/css/main.css">
    <!-- responsive -->
    <link rel="stylesheet" href="~/MainUI/assets/css/responsive.css">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@9.0.3"></script>
</head>

<!--PreLoader-->
<div class="loader">
    <div class="loader-inner">
        <div class="circle"></div>
    </div>
</div>
<!--PreLoader Ends-->
<!-- header -->
<div class="top-header-area" style="background-color: #051922; margin-bottom: 100px; " id="sticker">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-sm-12 text-center">
                <div class="main-menu-wrap">
                    <!-- logo -->
                    <div style="color: white" class="site-logo flex">
                        <a href="/">
                            <img src="/images/logo/banner_logo_webHM.jpg" class="rounded-full" width="150px" alt="">
                        </a>
                    </div>
                    <!-- logo -->
                    <!-- menu start -->
                    <nav class="main-menu">
                        <ul>
                            <li class="current-list-item">
                                <a href="/">Home</a>
                                @*                                 <ul class="sub-menu">
            <li><a href="index.html">Static Home</a></li>
            <li><a href="index_2.html">Slider Home</a></li>
            </ul> *@
                            <li><a href="/Home/Vechungtoi">Giới thiệu</a></li>
                            </li>
                            @if (User.IsInRole("Admin"))
                            {

                            <li><a href="/Admin">Quản trị viên</a></li>
                            }

                            <li><a href="/SanPhams">Sản phẩm</a></li>
                            @if (SignInManager.IsSignedIn(User)){
                            <li><a href="/DonHangs">Đơn hàng của tôi</a></li>
                            }
                            @* <li>
            <a href="#">Pages</a>
            <ul class="sub-menu">
                <li><a href="404.html">404 page</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="checkout.html">Check Out</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="news.html">News</a></li>
                <li><a href="shop.html">Shop</a></li>
            </ul>
        </li>*@
                            @* <li>
            <a href="news.html">News</a>
            <ul class="sub-menu">
                <li><a href="news.html">News</a></li>
                <li><a href="single-news.html">Single News</a></li>
            </ul>
        </li>*@
                            <li><a href="/LienHe/">Thông tin liên hệ</a></li>
                            @* <li>
            <a href="shop.html">Shop</a>
            <ul class="sub-menu">
                <li><a href="shop.html">Shop</a></li>
                <li><a href="checkout.html">Check Out</a></li>
                <li><a href="single-product.html">Single Product</a></li>
                <li><a href="cart.html">Cart</a></li>
            </ul>
        </li>*@
                            <li>
                                <div class="header-icons flex">
                                    <!-- Shopping cart icon -->
                                    <div class="cart-icon">
                                        <a class="shopping-cart" href="/GioHangs">
                                            <i class="fas fa-shopping-cart"></i>
                                        </a>
                                    </div>

                                    @*                    <!-- Search icon, hidden on mobile -->
        <div class="search-icon">
        <a class="mobile-hide search-bar-icon hidden sm:block" href="#">
        <i class="fas fa-search"></i>
        </a>
        </div> *@

                                    <!-- User Avatar Dropdown -->
                                    <div class="relative user-icon">
                                        @if (SignInManager.IsSignedIn(User))
    {
        var userManager = Context.RequestServices.GetService<UserManager<WebHM.Models.ApplicationUser>>();
        var user = await userManager.GetUserAsync(User);

                                        <div class="flex items-center space-x-2">
                                            <a href="#" id="userDropdown" class="user-avatar relative flex items-center" aria-haspopup="true" aria-expanded="false">
                                                <img src="@user.UrlAnhDaiDien" class="rounded-full w-8 h-8 border border-gray-300" alt="User Avatar" />
                                            </a>
                                        </div>

                                        <ul id="dropdownMenu" class="hidden absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-10">
                                            <li class="px-4 py-2 text-sm text-gray-700">
                                                <a style="margin-left: -20px" href="/Profile/UpdateProfile">
                                                    <strong style="color: black">@User.Identity?.Name.Split("@@")[0]</strong>
                                                </a>
                                            </li>
                                            <li class="border-t px-4 py-2">
                                                <form asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                                                    <button type="submit" class="w-full text-left text-red-600 hover:text-red-800">Đăng xuất</button>
                                                </form>
                                            </li>
                                        </ul>
    }
    else
    {
                                        <div class="space-x-4">
                                            <a asp-area="Identity" asp-page="/Account/Login" class="text-indigo-600 hover:text-indigo-800">Đăng nhập</a>
                                            <a asp-area="Identity" asp-page="/Account/Register" class="text-green-600 hover:text-green-800">Đăng ký</a>
                                        </div>
    }
                                    </div>

                                    <script>
                                        document.addEventListener('DOMContentLoaded', () => {
                                            const userDropdown = document.getElementById('userDropdown');
                                            const dropdownMenu = document.getElementById('dropdownMenu');

                                            userDropdown?.addEventListener('click', (e) => {
                                                e.preventDefault();
                                                dropdownMenu.classList.toggle('hidden');
                                            });

                                            document.addEventListener('click', (e) => {
                                                if (!userDropdown?.contains(e.target) && !dropdownMenu?.contains(e.target)) {
                                                    dropdownMenu.classList.add('hidden');
                                                }
                                            });
                                        });
                                    </script>

                                    <style>
                                        .user-avatar:hover img {
                                            border-color: #4f46e5; /* Indigo 600 */
                                        }
                                    </style>
                                </div>
                            </li>
                        </ul>

                    </nav>
                    <a class="mobile-show search-bar-icon" href="#"><i class="fas fa-search"></i></a>
                    <div class="mobile-menu"></div>
                    <!-- menu end -->
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end header -->
<!-- search area -->
<div class="search-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <span class="close-btn"><i class="fas fa-window-close"></i></span>
                <div class="search-bar">
                    <div class="search-bar-tablecell">
                        <h3>Search For:</h3>
                        <input type="text" placeholder="Keywords">
                        <button type="submit">Tìm kiếm <i class="fas fa-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end search area -->
<div style="padding-bottom: 100px; background-color: #051922;">
</div>
@*<div style="margin-bottom: 30px">*@

@RenderBody()
@*</div>*@

@*<div class="footer">
    <p>&copy; 2024 HandMade Store | Được làm bằng tình yêu và sự sáng tạo.</p>
</div>*@
@*

    <footer style="background-color: #051922; margin-top: 50px" >
        <div class="w-full mx-auto p-4 md:py-8">
            <span class="block text-sm text-white sm:text-center dark:text-white">© 2024 <a href="https://www.facebook.com/hang.t.kham" class="hover:underline">Thiết kế bởi Phạm Thúy Hằng</a></span>
        </div>
    </footer>
*@

</html>
<!-- jquery -->
<script src="~/MainUI/assets/js/jquery-1.11.3.min.js"></script>
<!-- bootstrap -->
<script src="~/MainUI/assets/bootstrap/js/bootstrap.min.js"></script>
<!-- count down -->
<script src="~/MainUI/assets/js/jquery.countdown.js"></script>
<!-- isotope -->
<script src="~/MainUI/assets/js/jquery.isotope-3.0.6.min.js"></script>
<!-- waypoints -->
<script src="~/MainUI/assets/js/waypoints.js"></script>
<!-- owl carousel -->
<script src="~/MainUI/assets/js/owl.carousel.min.js"></script>
<!-- magnific popup -->
<script src="~/MainUI/assets/js/jquery.magnific-popup.min.js"></script>
<!-- mean menu -->
<script src="~/MainUI/assets/js/jquery.meanmenu.min.js"></script>
<!-- sticker js -->
<script src="~/MainUI/assets/js/sticker.js"></script>
<!-- main js -->
<script src="~/MainUI/assets/js/main.js"></script>
@* <script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script> *@
@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
}

@await RenderSectionAsync("Scripts", required: false)
<style>
   

    /* Footer Section */
   /* .footer {
        background-image: linear-gradient(135deg, #ff7675, #f8b500);
        color: white;
        text-align: center;
        padding: 20px;
        margin-top: 40px;
        border-radius: 10px 10px 0 0;
    }

        .footer p {
            font-size: 1em;
        }*/
    .header-icons .sub-menu {
        display: none;
        position: absolute;
        background-color: #fff;
        border: 1px solid #ccc;
        list-style: none;
        padding: 10px;
        margin: 0;
        z-index: 1000;
    }

    .header-icons .user-icon:hover .sub-menu {
        display: block;
    }

    /* Đảm bảo các icon khác không bị ảnh hưởng */
    .header-icons .cart-icon:hover .sub-menu,
    .header-icons .search-icon:hover .sub-menu {
        display: none;
    }

</style>